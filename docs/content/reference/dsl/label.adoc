---
layout: header
header: "lexy/dsl/label.hpp"
entities:
  "lexy::dsl::label": label
  "lexy::dsl::id": id
---

[.lead]
The `label` and `id` rules.

[#label]
== Rule `lexy::dsl::label`

{{% interface %}}
----
namespace lexy
{
    template <typename Label>
    struct label
    {
        constexpr operator auto() const
        {
            return Tag::value;
        }
    };
}

namespace lexy::dsl
{
    struct _label-dsl_ // models _rule_
    {
        constexpr _rule_        auto operator()(_rule_        auto rule) const;
        constexpr _branch-rule_ auto operator()(_branch-rule_ auto rule) const;
    };

    template <typename Label>
    constexpr _label-dsl_ label;
}
----

[.lead]
`label` is a rule that produces a label to indicate that some {{% branch-rule %}} had been parsed.

Parsing::
  If a `rule` has been specified via its `operator()`, parses `rule`.
  Otherwise, succeeds without consuming anything.
Branch parsing::
  Tries to parse `rule`.
Errors::
  All errors raised by `rule`, if one has been specified.
Values::
  A default-constructed value of type `lexy::label<Label>` followed by all values of `rule`, if one has been specified.

TODO: add example once the playground can visualize labels

[#id]
== Rule `lexy::dsl::id`

{{% interface %}}
----
namespace lexy
{
    template <int Id>
    using id = label<std::integral_constant<int, Id>>;
}

namespace lexy::dsl
{
    template <int Id>
    constexpr auto id = label<std::integral_constant<int, Id>>;
}
----

[.lead]
`id` is a rule that is a just a convenience alias for `label` using an integer as its label.

